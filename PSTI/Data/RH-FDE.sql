USE MASTER
GO
DROP DATABASE [AceiteEletronico]
GO
CREATE DATABASE [AceiteEletronico]
GO
USE [AceiteEletronico]
GO
CREATE TABLE Processo (
	ID_PROCESSO INT IDENTITY(1,1) NOT NULL,
	CONSTRAINT Processo_PK PRIMARY KEY(ID_PROCESSO),
	NM_PROCESSO VARCHAR(100) NOT NULL,	
	DESC_PROCESSO VARCHAR(MAX) NOT NULL
)
GO
CREATE TABLE Perfil (
	ID_PERFIL INT IDENTITY(1,1) NOT NULL,
	CONSTRAINT Perfil_PK PRIMARY KEY(ID_PERFIL),
	NM_PERFIL VARCHAR(100) NOT NULL
)
GO
CREATE TABLE Processo_Perfil (
	ID_PROCESSO INT NOT NULL,
	ID_PERFIL   INT NOT NULL,
	CONSTRAINT Processo_Perfil_PK PRIMARY KEY(ID_PROCESSO,ID_PERFIL),
	CONSTRAINT Processo_Perfil_FK_1 FOREIGN KEY (ID_PROCESSO) REFERENCES Processo (ID_PROCESSO),
	CONSTRAINT Processo_Perfil_FK_2 FOREIGN KEY (ID_PERFIL) REFERENCES Perfil (ID_PERFIL),
	END_ARQ_DOC VARCHAR(250) NULL,
	DT_INICIO SMALLDATETIME NULL,
	DT_FIM SMALLDATETIME NULL,
	FL_BLOQ BIT NULL
)
GO
CREATE TABLE Usuario (
	CPF_USUARIO  CHAR(11) NOT NULL,
	NM_USUARIO VARCHAR(100) NOT NULL,
	DM_USUARIO VARCHAR(100) NOT NULL,
	EMAIL_USUARIO VARCHAR(100) NOT NULL,
	RAMAL_USUARIO VARCHAR(30) NOT NULL
)
GO
CREATE TABLE Usuario_Perfil (


)
